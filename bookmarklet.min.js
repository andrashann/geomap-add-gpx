"undefined"==typeof parser&&(document.getElementsByTagName("head")[0].appendChild(document.createElement("script")).src="https://cdnjs.cloudflare.com/ajax/libs/fast-xml-parser/3.21.1/parser.min.js");const gpxColors={blue:"#2A81CB",gold:"#FFD326",red:"#CB2B3E",green:"#2AAD27",orange:"#CB8427",yellow:"#CAC428",violet:"#9C2BCB",grey:"#7B7B7B",black:"#3D3D3D"};setTimeout(()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",".gpx,.GPX"),e.click(),e.addEventListener("change",function(){if(1==e.files.length){const t=e.files[0];let o=prompt("Válassz színt az alábbiak közül/Select one of these colors: 'blue', 'gold', 'red', 'green', 'orange', 'yellow', 'violet', 'grey', 'black'","violet");!o in gpxColors&&(o="violet");const r=new FileReader;r.readAsText(t,"UTF-8"),r.onload=(e=>{const t=parser.parse(e.target.result,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!0,parseAttributeValue:!0,arrayMode:/^trk/}),r=t.gpx.trk,a=t.gpx.wpt;console.log(r),a&&a.forEach(e=>{var t=L.marker([e.lat,e.lon],{icon:L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-"+o+".png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})});t.bindPopup("<b>"+e.name+":</b> "+e.desc),t.addTo(map)}),r.forEach(e=>{e.trkseg.forEach(t=>{const r=t.trkpt.map(e=>[e.lat,e.lon]),a=L.polyline(r,{color:gpxColors[o],weight:8,opacity:.4});a.on("mouseover",function(e){e.target.setStyle({opacity:.8,color:"white"})}),a.on("mouseout",function(e){e.target.setStyle({opacity:.4,color:gpxColors[o]})}),a.bindPopup(e.name+""),a.addTo(map)})})})}e.remove()})},500);