"undefined"==typeof parser&&(document.getElementsByTagName("head")[0].appendChild(document.createElement("script")).src="https://cdnjs.cloudflare.com/ajax/libs/fast-xml-parser/3.21.1/parser.min.js"),setTimeout(()=>{const e={blue:"#2A81CB",gold:"#FFD326",red:"#CB2B3E",green:"#2AAD27",orange:"#CB8427",yellow:"#CAC428",violet:"#9C2BCB",grey:"#7B7B7B",black:"#3D3D3D"},t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".gpx,.GPX"),t.click(),t.addEventListener("change",function(){if(1==t.files.length){const o=t.files[0];let r=prompt("Válassz színt az alábbiak közül/Select one of these colors: 'blue', 'gold', 'red', 'green', 'orange', 'yellow', 'violet', 'grey', 'black'","violet");!r in e&&(r="violet");const a=new FileReader;a.readAsText(o,"UTF-8"),a.onload=(t=>{const o=parser.parse(t.target.result,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!0,parseAttributeValue:!0,arrayMode:/^trk/}),a=o.gpx.trk,n=o.gpx.wpt;console.log(a),n&&n.forEach(e=>{var t=L.marker([e.lat,e.lon],{icon:L.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-"+r+".png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})});t.bindPopup("<b>"+e.name+":</b> "+e.desc),t.addTo(map)}),a.forEach(t=>{t.trkseg.forEach(o=>{const a=o.trkpt.map(e=>[e.lat,e.lon]),n=L.polyline(a,{color:e[r],weight:8,opacity:.4});n.on("mouseover",function(e){e.target.setStyle({opacity:.8,color:"white"})}),n.on("mouseout",function(t){t.target.setStyle({opacity:.4,color:e[r]})}),n.bindPopup(t.name+""),n.addTo(map)})})})}t.remove()})},500);